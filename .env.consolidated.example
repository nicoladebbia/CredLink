# ===========================================
# Unified CredLink Configuration
# ===========================================
# This file consolidates all environment variables across packages
# Copy this file to .env and fill in your actual values

# ===========================================
# Server Configuration
# ===========================================
PORT=3000
NODE_ENV=development
APP_NAME=credlink-api
HOST=0.0.0.0

# ===========================================
# Authentication & Security
# ===========================================
API_KEYS=dev-key-1,dev-key-2
ENABLE_API_KEY_AUTH=false
JWT_SECRET=your-super-secret-jwt-key-here-change-this-in-production
JWT_EXPIRES_IN=1h
ENABLE_HELMET=true
ENABLE_CSP=true

# ===========================================
# Rate Limiting Configuration
# ===========================================
# Consolidated: Use either RATE_LIMIT_WINDOW_MS (milliseconds) or RATE_LIMIT_WINDOW (time string like "15m")
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
ENABLE_RATE_LIMITING=true

# ===========================================
# AWS Configuration
# ===========================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/abc-123
ENCRYPTED_PRIVATE_KEY=

# ===========================================
# S3 Configuration
# ===========================================
S3_BUCKET=credlink-proofs
S3_PREFIX=proofs/
STORAGE_BASE_URL=

# ===========================================
# Database Configuration
# ===========================================
DATABASE_URL=postgresql://user:password@localhost:5432/credlink
DB_HOST=localhost
DB_PORT=5432
DB_NAME=credlink
DB_USER=credlink_user
DB_PASSWORD=secure-db-password
DB_CA_CERT_PATH=

# ===========================================
# Logging & Monitoring Configuration
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json
AWS_CLOUDWATCH_LOG_GROUP=/credlink/api
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
ENABLE_DEFAULT_METRICS=true

# ===========================================
# Storage Configuration
# ===========================================
STORAGE_BACKEND=memory
USE_LOCAL_PROOF_STORAGE=false
PROOF_STORAGE_PATH=./proofs
PROOF_URI_DOMAIN=https://proofs.credlink.com

# ===========================================
# C2PA Configuration
# ===========================================
USE_REAL_C2PA=true
MAX_EMBED_SIZE_MB=10
REQUIRE_MANIFEST_HASH=true

# ===========================================
# Sandbox Configuration
# ===========================================
STRIP_HAPPY_PORT=4101
PRESERVE_EMBED_PORT=4102
REMOTE_ONLY_PORT=4103

# ===========================================
# Manifest Configuration
# ===========================================
MANIFEST_BASE=https://manifests.survival.test
VERIFY_HOST=https://verify.survival.test

# ===========================================
# Circuit Breaker Configuration
# ===========================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT=60000
CIRCUIT_BREAKER_MONITORING_PERIOD=10000
CIRCUIT_BREAKER_EXPECTED_RECOVERY_TIME=30000
CIRCUIT_BREAKER_LOCK_TIMEOUT=5000
CIRCUIT_BREAKER_LOCK_CLEANUP_INTERVAL=5000
CIRCUIT_BREAKER_MAX_LOCK_WAIT_TIME=5000
CIRCUIT_BREAKER_RANDOM_DELAY_MIN=1
CIRCUIT_BREAKER_RANDOM_DELAY_MAX=10
CIRCUIT_BREAKER_SUCCESS_THRESHOLD_BASE=3
CIRCUIT_BREAKER_FORCE_RELEASE_THRESHOLD=30000

# ===========================================
# Compliance Configuration
# ===========================================
CORS_ORIGIN=https://your-frontend-domain.com
CORS_CREDENTIALS=false
SSL_KEY_PATH=/path/to/ssl/private.key
SSL_CERT_PATH=/path/to/ssl/certificate.crt
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_AUTHENTICATION=true
ENABLE_AUDIT_LOGGING=true

# ===========================================
# File Processing Configuration
# ===========================================
MAX_FILE_SIZE_MB=50

# ===========================================
# Feature Flags
# ===========================================
ALLOW_STATIC_FALLBACK_ON_DB_FAIL=false
USE_DATABASE_API_KEYS=false
ENABLE_AUTH=true

# ===========================================
# Turbo Build Caching Configuration
# ===========================================
# Vercel Remote Caching (recommended for CI/CD)
TURBO_TEAM=your-vercel-team-name
TURBO_TOKEN=your-vercel-token
# Alternative: Remote storage URL
TURBO_API_URL=https://your-remote-cache.com/api

# ===========================================
# Application-Specific Configuration
# ===========================================
# Beta Landing
BETA_PORT=3001
GA_MEASUREMENT_ID=

# IP Whitelist
IP_WHITELIST=127.0.0.1,::1

# API Keys Management
API_KEYS_SECRET_ARN=
API_KEYS_FILE=

# DynamoDB Configuration
DYNAMODB_TABLE=credlink-proofs
DYNAMODB_REGION=us-east-1

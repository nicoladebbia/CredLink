# Status Page Configuration
# Public status page for Phase 59 Custody & Analytics platform
# URL: https://status.yourdomain.com

name: "Phase 59 Platform Status"
description: "Real-time status and incident updates for Content Credentials Custody & Analytics"
url: "https://status.yourdomain.com"
logo: "/assets/logo-status.svg"

# Branding
colors:
  primary: "#3b82f6"
  success: "#10b981"
  warning: "#f59e0b"
  danger: "#ef4444"
  degraded: "#f97316"

# Components to monitor
components:
  - id: "custody-api"
    name: "Custody API"
    description: "Key management and manifest signing operations"
    group: "API Services"
    status: "operational"  # operational, degraded_performance, partial_outage, major_outage, under_maintenance
    uptime_target: 99.95
    
  - id: "analytics-api"
    name: "Analytics API"  
    description: "Verify result ingestion and analytics queries"
    group: "API Services"
    status: "operational"
    uptime_target: 99.9
    
  - id: "auth-service"
    name: "Authentication Service"
    description: "User authentication and API key validation"
    group: "API Services"
    status: "operational"
    uptime_target: 99.95
    
  - id: "evidence-vault"
    name: "Evidence Vault"
    description: "Evidence pack generation and retrieval"
    group: "API Services"
    status: "operational"
    uptime_target: 99.9
    
  - id: "database"
    name: "Database"
    description: "PostgreSQL database cluster"
    group: "Infrastructure"
    status: "operational"
    uptime_target: 99.95
    
  - id: "cache"
    name: "Cache"
    description: "Redis cache layer"
    group: "Infrastructure"
    status: "operational"
    uptime_target: 99.9
    
  - id: "storage"
    name: "Storage"
    description: "S3 object storage and CloudHSM"
    group: "Infrastructure"
    status: "operational"
    uptime_target: 99.99
    
  - id: "cdn"
    name: "CDN"
    description: "CloudFront content delivery network"
    group: "Infrastructure"
    status: "operational"
    uptime_target: 99.9
    
  - id: "aws-kms"
    name: "AWS KMS"
    description: "Key Management Service"
    group: "Third-Party Dependencies"
    status: "operational"
    uptime_target: 99.9
    external: true
    
  - id: "tsa-timestamping"
    name: "TSA Timestamping"
    description: "RFC 3161 timestamp authority"
    group: "Third-Party Dependencies"
    status: "operational"
    uptime_target: 99.9
    external: true
    
  - id: "dns"
    name: "DNS"
    description: "Domain name resolution"
    group: "Third-Party Dependencies"
    status: "operational"
    uptime_target: 99.99
    external: true

# Incident severity levels
incident_severity:
  - level: "critical"
    name: "Critical"
    description: "Complete service outage or data loss risk"
    response_time_minutes: 15
    update_frequency_minutes: 30
    color: "#ef4444"
    
  - level: "major"
    name: "Major"
    description: "Significant service degradation"
    response_time_minutes: 30
    update_frequency_minutes: 60
    color: "#f97316"
    
  - level: "minor"
    name: "Minor"
    description: "Partial degradation, limited impact"
    response_time_minutes: 60
    update_frequency_minutes: 120
    color: "#f59e0b"
    
  - level: "maintenance"
    name: "Scheduled Maintenance"
    description: "Planned maintenance window"
    response_time_minutes: 0
    update_frequency_minutes: 0
    color: "#3b82f6"

# Notification channels
notifications:
  email:
    enabled: true
    from: "status@yourdomain.com"
    reply_to: "support@yourdomain.com"
    
  sms:
    enabled: false
    provider: "twilio"
    
  slack:
    enabled: true
    webhook_url: "${SLACK_WEBHOOK_URL}"
    
  webhook:
    enabled: true
    endpoints:
      - url: "${CUSTOMER_WEBHOOK_URL}"
        events: ["incident.created", "incident.updated", "incident.resolved"]
        
  rss:
    enabled: true
    url: "https://status.yourdomain.com/rss"
    
  twitter:
    enabled: false
    handle: "@yourdomain_status"

# Uptime monitoring
monitoring:
  check_interval_seconds: 60
  timeout_seconds: 10
  retry_attempts: 3
  
  endpoints:
    - url: "https://api.yourdomain.com/health"
      method: "GET"
      expected_status: 200
      component: "custody-api"
      
    - url: "https://api.yourdomain.com/analytics/health"
      method: "GET"
      expected_status: 200
      component: "analytics-api"
      
    - url: "https://api.yourdomain.com/auth/health"
      method: "GET"
      expected_status: 200
      component: "auth-service"

# Metrics display
metrics:
  - name: "API Response Time"
    unit: "ms"
    targets:
      - component: "custody-api"
        p95: 200
        p99: 500
      - component: "analytics-api"
        p95: 300
        p99: 600
        
  - name: "Error Rate"
    unit: "%"
    targets:
      - component: "custody-api"
        threshold: 0.1
      - component: "analytics-api"
        threshold: 0.1
        
  - name: "Throughput"
    unit: "req/s"
    targets:
      - component: "custody-api"
        normal: 100
        peak: 500
      - component: "analytics-api"
        normal: 500
        peak: 2000

# Scheduled maintenance
maintenance_windows:
  - schedule: "0 2 * * 0"  # Every Sunday at 2:00 AM UTC (3rd Sunday preferred)
    duration_hours: 4
    description: "Monthly maintenance window"
    advance_notice_days: 7
    
# Legal and links
footer:
  - text: "Trust Center"
    url: "https://trust.yourdomain.com"
  - text: "Privacy Policy"
    url: "https://privacy.yourdomain.com"
  - text: "Terms of Service"
    url: "https://yourdomain.com/terms"
  - text: "Contact Support"
    url: "https://support.yourdomain.com"

# Historical data retention
retention:
  incidents: 730  # days
  metrics: 90     # days
  uptime: 365     # days

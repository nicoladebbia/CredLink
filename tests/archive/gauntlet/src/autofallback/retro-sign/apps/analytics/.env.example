# Phase 13 Analytics - Environment Configuration Template
# CRITICAL: Copy to .env and update with secure values before deployment

# Server Configuration
HOST=0.0.0.0
PORT=3002
NODE_ENV=production

# ClickHouse Database Configuration
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=analytics
CLICKHOUSE_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_32_CHARS_MIN
CLICKHOUSE_DATABASE=c2pa_analytics

# CRITICAL: Security Configuration
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_CHARACTER_SECRET_MINIMUM
SERVICE_TOKEN=CHANGE_THIS_TO_RANDOM_64_CHARACTER_TOKEN_MINIMUM
BCRYPT_ROUNDS=12
SESSION_TIMEOUT=1800
MAX_REQUEST_SIZE=1048576
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# Storage Configuration (Cloudflare R2)
R2_ENDPOINT=https://r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=YOUR_R2_ACCESS_KEY
R2_SECRET_ACCESS_KEY=YOUR_R2_SECRET_KEY
R2_BUCKET=c2pa-analytics

# Email Notification Configuration
SMTP_HOST=smtp.yourprovider.com
SMTP_PORT=587
SMTP_USER=your-email@domain.com
SMTP_PASS=YOUR_SMTP_PASSWORD
SMTP_FROM=alerts@yourdomain.com

# Slack Notification Configuration
SLACK_BOT_TOKEN=xoxb-YOUR_SLACK_BOT_TOKEN
SLACK_DEFAULT_CHANNEL=#alerts

# Alert Configuration
ALERTS_ENABLED=true
ALERTS_CONFIG_PATH=./config/alerts.yml
ALERTS_CHECK_INTERVAL=60

# Enforcement Configuration
FALLBACK_API_URL=https://your-policy-api.com/api/v1/routes
AUTO_RESOLVE_HOURS=24

# Logging Configuration
LOG_LEVEL=info

# Security Headers Configuration
ALLOWED_IPS=127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# Redis Configuration (if using caching)
REDIS_PASSWORD=CHANGE_THIS_STRONG_REDIS_PASSWORD

# Grafana Configuration (if using)
GRAFANA_PASSWORD=CHANGE_THIS_STRONG_GRAFANA_PASSWORD

# Production Security Settings
# CRITICAL: Set these to true in production
SECURITY_HEADERS_ENABLED=true
RATE_LIMITING_ENABLED=true
IP_WHITELIST_ENABLED=true
HTTPS_ONLY=true

# Monitoring and Observability
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true
PERFORMANCE_MONITORING=true

# Development Overrides
# For local development with Docker Compose:
# CLICKHOUSE_HOST=clickhouse
# SMTP_HOST=mailhog
# SMTP_PORT=1025
# JWT_SECRET=development-secret-change-in-production
# SERVICE_TOKEN=development-token-change-in-production

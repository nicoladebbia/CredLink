{
  "widgets": [
    {
      "type": "metric",
      "x": 0,
      "y": 0,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          ["AWS/ECS", "CPUUtilization", {"stat": "Average", "label": "CPU Average"}],
          ["...", {"stat": "Maximum", "label": "CPU Maximum"}],
          [".", "MemoryUtilization", {"stat": "Average", "label": "Memory Average"}],
          ["...", {"stat": "Maximum", "label": "Memory Maximum"}]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "ECS Service Metrics",
        "period": 60,
        "yAxis": {
          "left": {
            "min": 0,
            "max": 100
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 0,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          ["AWS/ApplicationELB", "RequestCount", "LoadBalancer", "credlink-api-prod", {"stat": "Sum", "label": "Total Requests"}],
          [".", "TargetResponseTime", ".", ".", {"stat": "Average", "label": "Avg Response Time"}],
          [".", "HTTPCode_Target_5XX_Count", ".", ".", {"stat": "Sum", "label": "5XX Errors"}],
          [".", "HTTPCode_Target_4XX_Count", ".", ".", {"stat": "Sum", "label": "4XX Errors"}]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "ALB Metrics",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          ["AWS/RDS", "CPUUtilization", "DBInstanceIdentifier", "credlink-postgres", {"stat": "Average"}],
          [".", "DatabaseConnections", ".", ".", {"stat": "Average"}],
          [".", "FreeStorageSpace", ".", ".", {"stat": "Average"}],
          [".", "ReadLatency", ".", ".", {"stat": "Average"}],
          [".", "WriteLatency", ".", ".", {"stat": "Average"}]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "RDS Metrics",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          ["AWS/ElastiCache", "CPUUtilization", "CacheClusterId", "credlink-redis", {"stat": "Average"}],
          [".", "NetworkBytesIn", ".", ".", {"stat": "Sum"}],
          [".", "NetworkBytesOut", ".", ".", {"stat": "Sum"}],
          [".", "CurrConnections", ".", ".", {"stat": "Average"}]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Redis Metrics",
        "period": 60
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 12,
      "width": 24,
      "height": 6,
      "properties": {
        "query": "SOURCE '/ecs/credlink-api'\n| fields @timestamp, @message, level, requestId, method, path, statusCode\n| filter level = 'error'\n| sort @timestamp desc\n| limit 100",
        "region": "us-east-1",
        "title": "Recent Errors",
        "stacked": false
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 18,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          ["AWS/ECS", "RunningTaskCount", "ServiceName", "credlink-api", {"stat": "Average"}],
          [".", "DesiredTaskCount", ".", ".", {"stat": "Average"}]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "ECS Task Count",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 18,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          ["AWS/ApplicationELB", "HealthyHostCount", "TargetGroup", "credlink-api-tg", "LoadBalancer", "credlink-api-prod", {"stat": "Average"}],
          [".", "UnHealthyHostCount", ".", ".", ".", ".", {"stat": "Average"}]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Target Health",
        "period": 60
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 18,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          ["AWS/S3", "BucketSizeBytes", "BucketName", "credlink-proofs-prod", "StorageType", "StandardStorage", {"stat": "Average"}],
          [".", "NumberOfObjects", ".", ".", ".", "AllStorageTypes", {"stat": "Average"}]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "S3 Storage Metrics",
        "period": 86400
      }
    }
  ]
}
